{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\soury\\\\job-matching-platform\\\\frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { auth, db, storage } from \"../firebaseConfig\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { doc, setDoc } from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport \"../styles/Register.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    profileImage: null,\n    mobileNumber: \"\",\n    altMobileNumber: \"\",\n    email: \"\",\n    aadhar: \"\",\n    password: \"\",\n    userType: \"user\" // Default user type\n  });\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleImageChange = e => {\n    setFormData({\n      ...formData,\n      profileImage: e.target.files[0]\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n      let imageUrl = \"\";\n      if (formData.profileImage) {\n        const imageRef = ref(storage, `profileImages/${user.uid}`);\n        await uploadBytes(imageRef, formData.profileImage);\n        imageUrl = await getDownloadURL(imageRef);\n      }\n      await setDoc(doc(db, \"users\", user.uid), {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        mobileNumber: formData.mobileNumber,\n        altMobileNumber: formData.altMobileNumber,\n        email: formData.email,\n        aadhar: formData.aadhar,\n        profileImage: imageUrl,\n        userType: formData.userType\n      });\n\n      // Redirect based on user type\n      navigate(formData.userType === \"worker\" ? \"/worker-dashboard\" : \"/user-dashboard\");\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"firstName\",\n        placeholder: \"First Name\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"lastName\",\n        placeholder: \"Last Name\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"mobileNumber\",\n        placeholder: \"Mobile Number\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"altMobileNumber\",\n        placeholder: \"Alternative Mobile Number (Optional)\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email (Optional)\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"aadhar\",\n        placeholder: \"Aadhar Card Number\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"userType\",\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"user\",\n          children: \"User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"worker\",\n          children: \"Worker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"0Gpan8Nfskn+aGUl6LdgFSMT8y0=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","auth","db","storage","createUserWithEmailAndPassword","doc","setDoc","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","Register","_s","formData","setFormData","firstName","lastName","profileImage","mobileNumber","altMobileNumber","email","aadhar","password","userType","error","setError","navigate","handleChange","e","target","name","value","handleImageChange","files","handleSubmit","preventDefault","userCredential","user","imageUrl","imageRef","uid","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","required","onChange","accept","_c","$RefreshReg$"],"sources":["C:/Users/soury/job-matching-platform/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { auth, db, storage } from \"../firebaseConfig\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport \"../styles/Register.css\";\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    profileImage: null,\r\n    mobileNumber: \"\",\r\n    altMobileNumber: \"\",\r\n    email: \"\",\r\n    aadhar: \"\",\r\n    password: \"\",\r\n    userType: \"user\", // Default user type\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    setFormData({ ...formData, profileImage: e.target.files[0] });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(\r\n        auth,\r\n        formData.email,\r\n        formData.password\r\n      );\r\n      const user = userCredential.user;\r\n\r\n      let imageUrl = \"\";\r\n      if (formData.profileImage) {\r\n        const imageRef = ref(storage, `profileImages/${user.uid}`);\r\n        await uploadBytes(imageRef, formData.profileImage);\r\n        imageUrl = await getDownloadURL(imageRef);\r\n      }\r\n\r\n      await setDoc(doc(db, \"users\", user.uid), {\r\n        firstName: formData.firstName,\r\n        lastName: formData.lastName,\r\n        mobileNumber: formData.mobileNumber,\r\n        altMobileNumber: formData.altMobileNumber,\r\n        email: formData.email,\r\n        aadhar: formData.aadhar,\r\n        profileImage: imageUrl,\r\n        userType: formData.userType,\r\n      });\r\n\r\n      // Redirect based on user type\r\n      navigate(formData.userType === \"worker\" ? \"/worker-dashboard\" : \"/user-dashboard\");\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h2>Register</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"firstName\" placeholder=\"First Name\" required onChange={handleChange} />\r\n        <input type=\"text\" name=\"lastName\" placeholder=\"Last Name\" required onChange={handleChange} />\r\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\r\n        <input type=\"text\" name=\"mobileNumber\" placeholder=\"Mobile Number\" required onChange={handleChange} />\r\n        <input type=\"text\" name=\"altMobileNumber\" placeholder=\"Alternative Mobile Number (Optional)\" onChange={handleChange} />\r\n        <input type=\"email\" name=\"email\" placeholder=\"Email (Optional)\" onChange={handleChange} />\r\n        <input type=\"text\" name=\"aadhar\" placeholder=\"Aadhar Card Number\" required onChange={handleChange} />\r\n        <input type=\"password\" name=\"password\" placeholder=\"Password\" required onChange={handleChange} />\r\n        <select name=\"userType\" onChange={handleChange}>\r\n          <option value=\"user\">User</option>\r\n          <option value=\"worker\">Worker</option>\r\n        </select>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}